<!DOCTYPE html>
<html lang="en">
    <head>
        <title>follow nav</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <header>
            <h1>Story about lost nav</h1>
        </header>
        
        <nav>
            <div class="dropdownBackground">
                <span class="arrow"></span>
            </div>
            <ul>
                <li class="logo"><a href="">Lost&nbsp;ü§∑‚Äç‚ôÇ</a></li>
                <li><a href="#">Home</a></li>
                <li>
                    <a href="#">About</a>
                    <div class="dropdown about">
                        <h3>Hi there! My name is Nick</h3>
                        <span class="photo">üë®‚Äçüíª</span>
                        <p>I work with computers and make awesome web things. Also know some servers magic which process any kind of data: users databases, millions torrents to rate, or save all your facebook photos.</p>
                    </div>
                </li>
                <li>
                    <a href="#">Images</a>
                    <ul class="dropdown images">
                        <li>üòπ</li>
                        <li>üêã</li>
                        <li>üëæ</li>
                        <li>üèÇ</li>
                        <li>üèç</li>
                    </ul>
                </li>
                <li>
                    <a href="#">Locations</a>
                    <ul class="dropdown">
                        <li><a href="#">Barcelona</a></li>
                        <li><a href="#">Amsterdam</a></li>
                        <li><a href="#">Bangkok</a></li>
                        <li><a href="#">Mexico</a></li>
                        <li><a href="#">Los Angeles</a></li>
                    </ul>
                </li>
                <li><a href="#">Maps</a></li>
            </ul>
        </nav>

        <article>
            <p>
                <span>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ipsam voluptate eaque ab nemo deleniti impedit sint ipsa, sequi illo provident harum commodi dolorum perspiciatis rerum. Vel, labore illum. Quo, nesciunt!</span>
                <span>Tempora architecto esse tenetur voluptates iusto quidem, exercitationem, ipsum harum maiores unde accusamus culpa optio iste facilis at earum, illo asperiores numquam. Neque, eius iusto delectus dignissimos temporibus pariatur obcaecati.</span>
                <span>Quaerat esse reiciendis recusandae tempora, eius reprehenderit consectetur cumque minus maiores iure iusto sed ea voluptate ratione laboriosam! Totam aspernatur debitis vitae quam ea provident aut recusandae, similique blanditiis temporibus.</span>
            </p>
            <p>
                <span>Ullam, officiis ipsa. Illum possimus repudiandae accusantium similique, autem perferendis illo. Voluptate nobis fugit praesentium minima. Perferendis labore incidunt reiciendis vero facere sit impedit vel! Dolores quod at sed in.</span>
                <span>Ullam, quas facere! Omnis soluta possimus itaque repellendus similique quis magnam ex architecto aperiam dolor, est, facere error corrupti suscipit voluptatem totam odit sunt amet cupiditate. Minus blanditiis placeat dignissimos.</span>
                <span>Distinctio, blanditiis sit. Quidem libero numquam dolore dignissimos, molestiae labore ratione veritatis a sed! Vel tempore dolorum repellendus accusantium molestiae neque voluptates illo laboriosam possimus delectus nesciunt, rerum aut quibusdam?</span>
            </p>
            <p>
                <span>Maiores tempore id optio recusandae saepe facere sapiente fugiat neque modi nulla. Libero iure neque hic accusantium necessitatibus, ullam ab sed quisquam at numquam saepe voluptates repudiandae amet dignissimos illo.</span>
                <span>Mollitia, quos perspiciatis beatae, necessitatibus quibusdam optio minus aperiam eum obcaecati odio non consequatur consequuntur quasi nemo vero. Laboriosam amet dicta corporis rem molestias sapiente, temporibus qui error fugiat natus.</span>
                <span>Ea vitae amet odit ullam molestias! Laborum suscipit dolorem sequi. Nostrum qui quis explicabo corporis, voluptatibus accusantium repellat dolorum recusandae cupiditate, aliquam cum aperiam tenetur dolores dolore! Aperiam, quod nisi!</span>
            </p>
        </article>
        <script>
            const triggers = document.querySelectorAll('nav > ul > li');
            const background = document.querySelector('.dropdownBackground');
            const nav = document.querySelector('nav');

            triggers.forEach(li => {
                li.addEventListener('mouseenter', navEnter);
                li.addEventListener('mouseleave', navLeave);
            });
            function navEnter() {
                this.classList.add('trigger-enter');
                setTimeout(() => this.classList.add('trigger-enter-active'), 50);

                const dropdown = this.querySelector('.dropdown');
                if (!dropdown) return

                background.classList.add('open');

                const dropdownCoords = dropdown.getBoundingClientRect();
                const navCoords = nav.getBoundingClientRect();
                console.log(dropdownCoords, navCoords);

                const stickyCords = {
                    'width': dropdownCoords.width,
                    'height': dropdownCoords.height,
                    'top': dropdownCoords.top - navCoords.top,
                    'left': dropdownCoords.left - navCoords.left,
                }

                background.style.setProperty('width', `${stickyCords.width}px`);
                background.style.setProperty('height', `${stickyCords.height}px`);
                background.style.setProperty('transform', `translate(${stickyCords.left}px, ${stickyCords.top}px)`);
            }

            function navLeave() {
                this.classList.remove('trigger-enter', 'trigger-enter-active');
                background.classList.remove('open');
            }
        </script>
    </body>
</html>